# Openvpn wrapper
Openvpn api wrapper без зависимостей. Это openvpn api который работает по telnet. В библиотеки нет зависимостей, все, что в
ней используется, это штатные методы из nodejs окружения. Все методы могут быть заменены на методы других рантаймов, таких, как deno, bun

# api
```ts
// Импортируем хелпер для типизации
import { CustomEventType } from "../openvpn-api/event-responses.types";
// Объявляем эмитор (optional)
const event = new EventEmitter<CustomEventType>();

// Создаем новое подключение к openvpn
const api = new OpenvpnApi({
    id: "1", // id, строка для индификации сервера, может быть любой
    host: "127.0.0.1",
    port: 7505,
    timeout: 5000, // по умолчанию 5000 ms (optinal)
}, {
    event, // Передача эмиттера (optional) При передачи эмитера, типизация теряется
    logger, // Вы можете использовать собственный логер. По умолчанию используется console (optional
    statusInterval, // С какой переодичностью вы хотите обновлять статус (optional)  
});
```
Как только вы будете готовы, вызовите `await api.connect()`

Для получения события от сервера необходимо подписаться на событие.
```ts
// example
event.on("client:connection", (data: Cl) => {
    console.log(data);
});
```
| Событие             | тип                | Описание                                  |
|---------------------|--------------------|-------------------------------------------|
| `client:connection` | `ClientConnection` | Получить событие о подключении клиента    |
| `client:list`       | `ClientList`       | Получить список подключенные клиентов     |
| `byte:count`        | `ByteCount`        | Данные о трафике клиента _подробнее ниже_ |
|                     |

## Status
Получает список пользователей, их ip адреса, дату и время подключения _(приложить ссылку на документацию от openvpn)_

## Отправка команд
`api.writeSocket(command)`

## TODO
- [ ] Реализовать класс с командами
- [ ] Попробовать ловить когда происходит фактическое подключение